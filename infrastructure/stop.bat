@echo off
REM ============================================================================
REM Test Service Infrastructure - Stop Script (Windows)
REM ============================================================================

echo.
echo ??????????????????????????????????????????????????????????????????
echo ?         Test Service - Stopping Infrastructure                ?
echo ??????????????????????????????????????????????????????????????????
echo.

echo Stopping containers...
docker-compose -f infrastructure\docker-compose.yml down

if %errorlevel% equ 0 (
    echo ? Infrastructure stopped successfully
) else (
    echo ? Failed to stop infrastructure
    echo.
    echo Try manually:
    echo   docker stop testservice-mongodb testservice-rabbitmq
    echo   docker rm testservice-mongodb testservice-rabbitmq
)

echo.
echo To remove data volumes as well:
echo   docker-compose -f infrastructure\docker-compose.yml down -v
echo.
pause
